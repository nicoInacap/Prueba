<!-- src/app/pages/autores/usuarios.html-->
 <div class="container-fluid px-4 py-4">
  <h2 class="text-primary mb-4">Autores</h2>

    <!-- Formulario para crear/editar autor -->
    <form (ngSubmit)="guardarAutor()" class="row g-2 mb-4 align-items-end">
        <div class="col-md-4">
            <label class="form-label">Nombre</label>
            <input
                [(ngModel)]="autorNuevo.nombre"
                name="nombre"
                class="form-control"
                required
            />
        </div>
        <div class="col-md-4">
            <label class="form-label">Correo</label>
            <input
                [(ngModel)]="autorNuevo.correo"
                name="correo"
                class="form-control"
                type="email"
                required
            />
        </div>
        <div class="col-md-3">
            <label class="form-label">Contraseña</label>
            <input
                [(ngModel)]="autorNuevo['contraseña']"
                name="contraseña"
                class="form-control"
                type="password"
                required
            />
        </div>
        <div class="col-md-1">
            <button type="submit" class="btn btn-{{ modoEdicion ? 'warning' : 'success' }} w-100">
                <i class="bi bi-{{ modoEdicion ? 'arrow-repeat' : 'plus-circle' }}"></i>
            </button>
        </div>
    </form>
    <!-- Tabla de autores -->
    <div class="table-responsive">
        <table class="table table-striped table-hover align-middle">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Correo</th>
                <th>Contraseña</th>
            </tr>
            </thead>
            <tbody>
                <tr *ngFor="let autor of autores">
                    <td>{{autor.id}}</td>
                    <td>{{autor.nombre}}</td>
                    <td>{{autor.correo}}</td>
                    <td>{{autor['contraseña']}}</td>

                    <td>
                        <button class="btn btn-sm btn-warning me-1" (click)="editarAutor(autor)">
                            <i class="bi bi-pencil-fill"></i>
                        </button>
                        <button class="btn btn-sm btn-danger" (click)="eliminarAutor(autor.id!)">
                            <i class="bi bi-trash-fill"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>